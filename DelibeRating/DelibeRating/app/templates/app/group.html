{% extends "app/layout.html" %}

{% load crispy_forms_tags %}
{% load staticfiles %}

{% include 'app/messages.html' %}
{% include 'app/form_errors.html' %}

{% block content %}
<div class="jumbotron">
    <div class="container">
        <h1 class="display-4">{{ group.name }}</h1>
    </div>
</div>

<div class="container">
    <div class="row">
        <ul>
            <li><p><h4>Add a member</h4></p></li>
            <li><form action="{% url 'group' %}?g={{ group.name }}" method="post" class="form-horizontal">
                {% csrf_token %}
                {{ form.username|as_crispy_field }}
                <input name="ga" type="hidden" value="{{ group.name }}">
                <input name="u" type="hidden" value="{{ user.username }}">
                <input class="btn btn-primary" type="submit" value="Add user" />
            </form></li>
        </ul>
        
    </div>
    <br/>
    <div class="row">
        <ul>
            <li><h4>Group members</h4></li>
            <li><ul>
                {% for u in users %}
                <li><form action="{% url 'group' %}?g={{ group.name }}" method="post" class="form-horizontal">
                    {% csrf_token %}
                    <input name="gr" type="hidden" value="{{ group.name }}">
                    <input name="u" type="hidden" value="{{ user.username }}">
                    <input class="btn btn-danger grp-rm" type="submit" value="-" />
                    <a href="{% url 'profile' %}?u={{ u.username }}">{{ u.username }}</a>
                </form></li>
                {% endfor %}
            </ul></li>
        </ul>
        
    </div>
</div>
{% endblock %}
